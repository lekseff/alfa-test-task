import{aa as B,aQ as P,a3 as u,M as I,aL as S,o as n,ag as l,d as o,aj as h,ai as p,ab as f,ah as e,ac as g,ak as i,F as V,aR as N,al as D,am as j,_ as C}from"./index-PpBmr7yP.js";import{_ as E}from"./BackButton.vue_vue_type_script_setup_true_lang-nne4B_Ng.js";import{n as R}from"./no-image-hOy1oGkw.js";import{u as F,V as M}from"./book.store-DDqSv60F.js";const m=a=>(D("data-v-9f65c8d3"),a=a(),j(),a),A={key:0,class:"d-flex align-center justify-center h-100"},L={key:0,class:"d-flex flex-column flex-sm-row ga-sm-8"},Q={class:"d-flex align-center justify-center fill-height"},$={class:"text-h5 font-weight-semibold"},q=m(()=>e("span",{class:"d-inline-block text-body-1 font-weight-semibold mr-2"}," Release date: ",-1)),z={class:"text-body-1 font-weight"},G=m(()=>e("span",{class:"d-inline-block text-body-1 font-weight-semibold mr-2"},"Pages:",-1)),H={class:"text-body-1 font-weight"},J=m(()=>e("span",{class:"d-inline-block text-body-1 font-weight-semibold mr-2"},"Description:",-1)),K={class:"text-body-1 font-weight"},O={key:1,class:"text-h3 text-center mt-6 mt-sm-8"},T=B({__name:"ProductPage",setup(a){const v=N(),{xs:x}=P(),c=F(),t=u(),r=u(!1),_=u(!1),y=I(()=>{var s;return _.value||!((s=t.value)!=null&&s.cover)?R:t.value.cover});S(async()=>{c.books.length||await b();const s=v.params.id;s&&!Number.isNaN(+s)&&k(+s)});async function b(){try{r.value=!0,await c.getBooks()}finally{r.value=!1}}function k(s){const d=c.getBookById(s);d&&(t.value={...d})}function w(){_.value=!0}return(s,d)=>r.value?(n(),l("div",A,[o(h,{color:"primary",indeterminate:""})])):(n(),l(V,{key:1},[o(p(E),{class:"mb-6"}),t.value?(n(),l("section",L,[o(g,{class:"mb-6 mb-sm-0 w-100 photo"},{default:f(()=>[o(M,{src:y.value,"min-width":p(x)?"":"300",alt:t.value.title,onError:w,class:"rounded-lg elevation-3"},{placeholder:f(()=>[e("div",Q,[o(h,{color:"grey-lighten-4",indeterminate:""})])]),_:1},8,["src","min-width","alt"])]),_:1}),o(g,{class:"d-flex flex-column ga-4 text-textPrimary flex-shrink-1"},{default:f(()=>[e("h1",$,i(t.value.title),1),e("div",null,[q,e("span",z,i(t.value.releaseDate),1)]),e("div",null,[G,e("span",H,i(t.value.pages),1)]),e("div",null,[J,e("span",K,i(t.value.description),1)])]),_:1})])):(n(),l("h1",O,"Товар не найден"))],64))}}),Z=C(T,[["__scopeId","data-v-9f65c8d3"]]);export{Z as default};

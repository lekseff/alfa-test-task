import{a6 as B,aQ as P,$ as u,J as I,aK as S,a7 as n,ae as l,b as o,ah as _,ag as p,a9 as f,af as e,aa as g,ai as i,F as V,aR as N,aj as D,ak as j,al as C}from"./index-DYfnXYIY.js";import{_ as E}from"./BackButton.vue_vue_type_script_setup_true_lang-zueO0jXz.js";import{n as R}from"./no-image-hOy1oGkw.js";import{u as F,V as $}from"./book.store-DmAEGY-8.js";const m=a=>(D("data-v-9f65c8d3"),a=a(),j(),a),A={key:0,class:"d-flex align-center justify-center h-100"},J={key:0,class:"d-flex flex-column flex-sm-row ga-sm-8"},K={class:"d-flex align-center justify-center fill-height"},M={class:"text-h5 font-weight-semibold"},Q=m(()=>e("span",{class:"d-inline-block text-body-1 font-weight-semibold mr-2"}," Release date: ",-1)),q={class:"text-body-1 font-weight"},z=m(()=>e("span",{class:"d-inline-block text-body-1 font-weight-semibold mr-2"},"Pages:",-1)),G={class:"text-body-1 font-weight"},H=m(()=>e("span",{class:"d-inline-block text-body-1 font-weight-semibold mr-2"},"Description:",-1)),L={class:"text-body-1 font-weight"},O={key:1,class:"text-h3 text-center mt-6 mt-sm-8"},T=B({__name:"ProductPage",setup(a){const v=N(),{xs:x}=P(),c=F(),t=u(),r=u(!1),h=u(!1),y=I(()=>{var s;return h.value||!((s=t.value)!=null&&s.cover)?R:t.value.cover});S(async()=>{c.books.length||await b();const s=v.params.id;s&&!Number.isNaN(+s)&&k(+s)});async function b(){try{r.value=!0,await c.getBooks()}finally{r.value=!1}}function k(s){const d=c.getBookById(s);d&&(t.value={...d})}function w(){h.value=!0}return(s,d)=>r.value?(n(),l("div",A,[o(_,{color:"primary",indeterminate:""})])):(n(),l(V,{key:1},[o(p(E),{class:"mb-6"}),t.value?(n(),l("section",J,[o(g,{class:"mb-6 mb-sm-0 w-100 photo"},{default:f(()=>[o($,{src:y.value,"min-width":p(x)?"":"300",alt:t.value.title,onError:w,class:"rounded-lg elevation-3"},{placeholder:f(()=>[e("div",K,[o(_,{color:"grey-lighten-4",indeterminate:""})])]),_:1},8,["src","min-width","alt"])]),_:1}),o(g,{class:"d-flex flex-column ga-4 text-textPrimary flex-shrink-1"},{default:f(()=>[e("h1",M,i(t.value.title),1),e("div",null,[Q,e("span",q,i(t.value.releaseDate),1)]),e("div",null,[z,e("span",G,i(t.value.pages),1)]),e("div",null,[H,e("span",L,i(t.value.description),1)])]),_:1})])):(n(),l("h1",O,"Товар не найден"))],64))}}),Z=C(T,[["__scopeId","data-v-9f65c8d3"]]);export{Z as default};

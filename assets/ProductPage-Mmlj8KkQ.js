import{d as B,aQ as P,a8 as u,T as I,aM as S,o as n,ah as l,a as o,aj as _,u as p,w as f,ai as e,af as g,ak as i,F as V,aR as N,al as D,am as j,an as C}from"./index-C31-e2hC.js";import{_ as E}from"./BackButton.vue_vue_type_script_setup_true_lang-qsTfGvCI.js";import{n as R}from"./no-image-hOy1oGkw.js";import{u as F,V as M}from"./book.store-DC3fDsSw.js";const m=a=>(D("data-v-9f65c8d3"),a=a(),j(),a),A={key:0,class:"d-flex align-center justify-center h-100"},Q={key:0,class:"d-flex flex-column flex-sm-row ga-sm-8"},T={class:"d-flex align-center justify-center fill-height"},$={class:"text-h5 font-weight-semibold"},q=m(()=>e("span",{class:"d-inline-block text-body-1 font-weight-semibold mr-2"}," Release date: ",-1)),z={class:"text-body-1 font-weight"},G=m(()=>e("span",{class:"d-inline-block text-body-1 font-weight-semibold mr-2"},"Pages:",-1)),H={class:"text-body-1 font-weight"},J=m(()=>e("span",{class:"d-inline-block text-body-1 font-weight-semibold mr-2"},"Description:",-1)),K={class:"text-body-1 font-weight"},L={key:1,class:"text-h3 text-center mt-6 mt-sm-8"},O=B({__name:"ProductPage",setup(a){const v=N(),{xs:x}=P(),c=F(),t=u(),r=u(!1),h=u(!1),y=I(()=>{var s;return h.value||!((s=t.value)!=null&&s.cover)?R:t.value.cover});S(async()=>{c.books.length||await b();const s=v.params.id;s&&!Number.isNaN(+s)&&k(+s)});async function b(){try{r.value=!0,await c.getBooks()}finally{r.value=!1}}function k(s){const d=c.getBookById(s);d&&(t.value={...d})}function w(){h.value=!0}return(s,d)=>r.value?(n(),l("div",A,[o(_,{color:"primary",indeterminate:""})])):(n(),l(V,{key:1},[o(p(E),{class:"mb-6"}),t.value?(n(),l("section",Q,[o(g,{class:"mb-6 mb-sm-0 w-100 photo"},{default:f(()=>[o(M,{src:y.value,"min-width":p(x)?"":"300",alt:t.value.title,onError:w,class:"rounded-lg elevation-3"},{placeholder:f(()=>[e("div",T,[o(_,{color:"grey-lighten-4",indeterminate:""})])]),_:1},8,["src","min-width","alt"])]),_:1}),o(g,{class:"d-flex flex-column ga-4 text-textPrimary flex-shrink-1"},{default:f(()=>[e("h1",$,i(t.value.title),1),e("div",null,[q,e("span",z,i(t.value.releaseDate),1)]),e("div",null,[G,e("span",H,i(t.value.pages),1)]),e("div",null,[J,e("span",K,i(t.value.description),1)])]),_:1})])):(n(),l("h1",L,"Товар не найден"))],64))}}),Z=C(O,[["__scopeId","data-v-9f65c8d3"]]);export{Z as default};
